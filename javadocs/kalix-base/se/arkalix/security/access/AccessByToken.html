<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>AccessByToken (kalix-base 0.4.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AccessByToken (kalix-base 0.4.1 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">se.arkalix.security.access</a></div>
<h2 title="Class AccessByToken" class="title">Class AccessByToken</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>se.arkalix.security.access.AccessByToken</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="AccessPolicy.html" title="interface in se.arkalix.security.access">AccessPolicy</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">AccessByToken</span>
extends java.lang.Object
implements <a href="AccessPolicy.html" title="interface in se.arkalix.security.access">AccessPolicy</a></pre>
<div class="block">Token access policy.
 <p>
 A consuming system is granted access only if it can (1) present a
 certificate with at least one trusted issuer, as well as (2) present a token
 originating from a designated authorization system. The consuming system
 does not have to be a member of the same local cloud as the system using
 this access policy.
 <p>
 The designated authorization system is identified by a <code>PublicKey</code>,
 which can either be specified directly or be resolved at a later time.
 Authorization system public key resolution could, for example, be performed
 by some suitable <a href="../../plugin/Plugin.html" title="interface in se.arkalix.plugin"><code>plugin</code></a>. The authorization
 system key is set or replaced using the <a href="#authorizationKey(java.security.PublicKey)"><code>authorizationKey(PublicKey)</code></a>
 method.
 <p>
 Note that access policy instances of this type can be shared by multiple
 services.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">AccessByToken</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates new certificate and token access policy without an authorization
 system public key.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.security.PublicKey)">AccessByToken</a></span>&#8203;(java.security.PublicKey&nbsp;authorizationKey)</code></th>
<td class="colLast">
<div class="block">Creates new certificate and token access policy with the given
 authorization system public key.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#authorizationKey(java.security.PublicKey)">authorizationKey</a></span>&#8203;(java.security.PublicKey&nbsp;authorizationKey)</code></th>
<td class="colLast">
<div class="block">Sets authorization system public key.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../descriptor/SecurityDescriptor.html" title="class in se.arkalix.descriptor">SecurityDescriptor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#descriptor()">descriptor</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAuthorized(se.arkalix.description.ConsumerDescription,se.arkalix.ArSystem,se.arkalix.description.ServiceDescription,java.lang.String)">isAuthorized</a></span>&#8203;(<a href="../../description/ConsumerDescription.html" title="class in se.arkalix.description">ConsumerDescription</a>&nbsp;consumer,
            <a href="../../ArSystem.html" title="class in se.arkalix">ArSystem</a>&nbsp;provider,
            <a href="../../description/ServiceDescription.html" title="class in se.arkalix.description">ServiceDescription</a>&nbsp;service,
            java.lang.String&nbsp;token)</code></th>
<td class="colLast">
<div class="block">Determines whether or not the described <code>system</code> may consume the
 described <code>service</code> using the given access <code>token</code>, if any.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AccessByToken</h4>
<pre>public&nbsp;AccessByToken()</pre>
<div class="block">Creates new certificate and token access policy without an authorization
 system public key.
 <p>
 The key must be set later via the <a href="#authorizationKey(java.security.PublicKey)"><code>authorizationKey(PublicKey)</code></a>
 method, perhaps via a <a href="../../plugin/Plugin.html" title="interface in se.arkalix.plugin"><code>plugin</code></a>. This
 access policy will prevent all access until a valid key has been set.</div>
</li>
</ul>
<a id="&lt;init&gt;(java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AccessByToken</h4>
<pre>public&nbsp;AccessByToken&#8203;(java.security.PublicKey&nbsp;authorizationKey)</pre>
<div class="block">Creates new certificate and token access policy with the given
 authorization system public key.
 <p>
 The key can be changed later via the
 <a href="#authorizationKey(java.security.PublicKey)"><code>authorizationKey(PublicKey)</code></a> method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authorizationKey</code> - Public key of issuer of acceptable access tokens.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="authorizationKey(java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authorizationKey</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;authorizationKey&#8203;(java.security.PublicKey&nbsp;authorizationKey)</pre>
<div class="block">Sets authorization system public key.
 <p>
 The key is used to determine if provided access tokens were created by
 the system owning the corresponding private key, which in most scenarios
 can be expected to be an authorization system belonging to the same
 cloud as the service provider using this access policy.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authorizationKey</code> - Public key of designated authorization system.</dd>
</dl>
</li>
</ul>
<a id="descriptor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>descriptor</h4>
<pre class="methodSignature">public&nbsp;<a href="../../descriptor/SecurityDescriptor.html" title="class in se.arkalix.descriptor">SecurityDescriptor</a>&nbsp;descriptor()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="AccessPolicy.html#descriptor()">descriptor</a></code>&nbsp;in interface&nbsp;<code><a href="AccessPolicy.html" title="interface in se.arkalix.security.access">AccessPolicy</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Access policy descriptor.</dd>
</dl>
</li>
</ul>
<a id="isAuthorized(se.arkalix.description.ConsumerDescription,se.arkalix.ArSystem,se.arkalix.description.ServiceDescription,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isAuthorized</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isAuthorized&#8203;(<a href="../../description/ConsumerDescription.html" title="class in se.arkalix.description">ConsumerDescription</a>&nbsp;consumer,
                            <a href="../../ArSystem.html" title="class in se.arkalix">ArSystem</a>&nbsp;provider,
                            <a href="../../description/ServiceDescription.html" title="class in se.arkalix.description">ServiceDescription</a>&nbsp;service,
                            java.lang.String&nbsp;token)
                     throws <a href="AccessTokenException.html" title="class in se.arkalix.security.access">AccessTokenException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="AccessPolicy.html#isAuthorized(se.arkalix.description.ConsumerDescription,se.arkalix.ArSystem,se.arkalix.description.ServiceDescription,java.lang.String)">AccessPolicy</a></code></span></div>
<div class="block">Determines whether or not the described <code>system</code> may consume the
 described <code>service</code> using the given access <code>token</code>, if any.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="AccessPolicy.html#isAuthorized(se.arkalix.description.ConsumerDescription,se.arkalix.ArSystem,se.arkalix.description.ServiceDescription,java.lang.String)">isAuthorized</a></code>&nbsp;in interface&nbsp;<code><a href="AccessPolicy.html" title="interface in se.arkalix.security.access">AccessPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumer</code> - Description of system attempting to consume the
                 <code>service</code> in question.</dd>
<dd><code>provider</code> - The system providing the consumed <code>service</code>.</dd>
<dd><code>service</code> - Description of service that the <code>consumer</code>
                 attempts to consume.</dd>
<dd><code>token</code> - Access token presented by the <code>consumer</code>, if any.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> only if <code>consumer</code> is permitted to consume
 <code>service</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="AccessTokenException.html" title="class in se.arkalix.security.access">AccessTokenException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
