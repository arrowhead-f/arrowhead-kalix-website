<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>HttpBodyReceiver (kalix-base 0.1.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HttpBodyReceiver (kalix-base 0.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":18,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">se.arkalix.net.http</a></div>
<h2 title="Interface HttpBodyReceiver" class="title">Interface HttpBodyReceiver</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="client/HttpClientResponse.html" title="interface in se.arkalix.net.http.client">HttpClientResponse</a></code>, <code><a href="service/HttpServiceRequest.html" title="interface in se.arkalix.net.http.service">HttpServiceRequest</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">HttpBodyReceiver</span></pre>
<div class="block">Some handler useful for receiving an incoming HTTP body.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;R extends <a href="../../dto/DtoReadable.html" title="interface in se.arkalix.dto">DtoReadable</a>&gt;<br><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bodyAs(se.arkalix.dto.DtoEncoding,java.lang.Class)">bodyAs</a></span>&#8203;(<a href="../../dto/DtoEncoding.html" title="enum in se.arkalix.dto">DtoEncoding</a>&nbsp;encoding,
      java.lang.Class&lt;R&gt;&nbsp;class_)</code></th>
<td class="colLast">
<div class="block">Requests that the incoming HTTP body be collected and parsed as an
 instance of the provided <code>class_</code>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;byte[]&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bodyAsByteArray()">bodyAsByteArray</a></span>()</code></th>
<td class="colLast">
<div class="block">Requests that the incoming HTTP body be collected into a regular Java
 byte array (<code>byte[]</code>).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;? extends java.io.InputStream&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bodyAsStream()">bodyAsStream</a></span>()</code></th>
<td class="colLast">
<div class="block">Requests that the incoming HTTP body be collected into a regular Java
 <code>InputStream</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bodyAsString()">bodyAsString</a></span>()</code></th>
<td class="colLast">
<div class="block">Requests that the incoming HTTP body be collected into a regular Java
 <code>String</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>default <a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;java.nio.file.Path&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bodyTo(java.nio.file.Path)">bodyTo</a></span>&#8203;(java.nio.file.Path&nbsp;path)</code></th>
<td class="colLast">
<div class="block">Requests that the incoming HTTP body be written to the file at the
 specified file system path, overwriting it if it already exists.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;java.nio.file.Path&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bodyTo(java.nio.file.Path,boolean)">bodyTo</a></span>&#8203;(java.nio.file.Path&nbsp;path,
      boolean&nbsp;append)</code></th>
<td class="colLast">
<div class="block">Requests that the incoming HTTP body be written to the file at the
 specified file system path.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="bodyAs(se.arkalix.dto.DtoEncoding,java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bodyAs</h4>
<pre class="methodSignature">&lt;R extends <a href="../../dto/DtoReadable.html" title="interface in se.arkalix.dto">DtoReadable</a>&gt;&nbsp;<a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;R&gt;&nbsp;bodyAs&#8203;(<a href="../../dto/DtoEncoding.html" title="enum in se.arkalix.dto">DtoEncoding</a>&nbsp;encoding,
                                                 java.lang.Class&lt;R&gt;&nbsp;class_)</pre>
<div class="block">Requests that the incoming HTTP body be collected and parsed as an
 instance of the provided <code>class_</code>.
 <p>
 Note that only so-called Data Transfer Object (DTO) types may be decoded
 using this method. More details about such types can be read in the
 documentation for the <a href="../../dto/package-summary.html"><code>se.arkalix.dto</code></a> package.
 <p>
 Note also that a body can typically only be requested once via this
 interface. Any further requests will likely cause exceptions to be
 thrown.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - Type of <code>class_</code>.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>encoding</code> - Encoding to use when decoding incoming HTTP body.</dd>
<dd><code>class_</code> - Class to decode incoming HTTP body into.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future completed when the incoming HTTP body has been fully
 received and then decoded into an instance of <code>class_</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the body has already been requested.</dd>
</dl>
</li>
</ul>
<a id="bodyAsByteArray()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bodyAsByteArray</h4>
<pre class="methodSignature"><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;byte[]&gt;&nbsp;bodyAsByteArray()</pre>
<div class="block">Requests that the incoming HTTP body be collected into a regular Java
 byte array (<code>byte[]</code>).
 <p>
 Note that a body can typically only be requested once via this
 interface. Any further requests will likely cause exceptions to be
 thrown.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future completed when the incoming HTTP body has been fully
 collected into a single byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the body has already been requested.</dd>
</dl>
</li>
</ul>
<a id="bodyAsStream()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bodyAsStream</h4>
<pre class="methodSignature"><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;? extends java.io.InputStream&gt;&nbsp;bodyAsStream()</pre>
<div class="block">Requests that the incoming HTTP body be collected into a regular Java
 <code>InputStream</code>.
 <p>
 The returned <code>Future</code> is not completed with the stream until the
 incoming body has been received in full. However, in comparison to
 <a href="#bodyAsByteArray()"><code>bodyAsByteArray()</code></a>, this method does not necessitate copying the
 body into a contiguous byte array, which in some cases can lead to
 performance gains.
 <p>
 While it would be technically possible to return an <code>InputStream</code>
 without waiting for the body to have arrived in full, reading from that
 stream would require blocking the current thread until more of the body
 arrives. That behavior does not rhyme well with the concurrency model of
 the Kalix library, which tries to promote avoiding blocking I/O as far
 as possible. If expecting to receive a very large incoming HTTP body,
 consider using the <a href="#bodyTo(java.nio.file.Path,boolean)"><code>bodyTo(Path, boolean)</code></a> method, which writes
 the body directly to a file, as it arrives.
 <p>
 Note that a body can typically only be requested once via this
 interface. Any further requests will likely cause exceptions to be
 thrown.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future completed when the incoming HTTP body has been fully
 collected and can be presented as an input stream.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the body has already been requested.</dd>
</dl>
</li>
</ul>
<a id="bodyAsString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bodyAsString</h4>
<pre class="methodSignature"><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;java.lang.String&gt;&nbsp;bodyAsString()</pre>
<div class="block">Requests that the incoming HTTP body be collected into a regular Java
 <code>String</code>.
 <p>
 If a character encoding supported by Java is mentioned in the
 <code>"content-type"</code> of the HTTP message containing the body,
 that will be used when decoding the body into a string. In any other
 case, UTF-8 will be assumed to be adequate.
 <p>
 Note that a body can typically only be requested once via this
 interface. Any further requests will likely cause exceptions to be
 thrown.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future completed when the incoming HTTP body becomes has been
 fully collected into a string.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the body has already been requested.</dd>
</dl>
</li>
</ul>
<a id="bodyTo(java.nio.file.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bodyTo</h4>
<pre class="methodSignature">default&nbsp;<a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;java.nio.file.Path&gt;&nbsp;bodyTo&#8203;(java.nio.file.Path&nbsp;path)</pre>
<div class="block">Requests that the incoming HTTP body be written to the file at the
 specified file system path, overwriting it if it already exists.
 <p>
 Note that a body can typically only be requested once via this
 interface. Any further requests will likely cause exceptions to be
 thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - Path to file to contain incoming HTTP body.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future completed successfully with given path only if the
 incoming HTTP body is fully received and written to the file at that path.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the body has already been requested.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#bodyTo(java.nio.file.Path,boolean)"><code>bodyTo(Path, boolean)</code></a></dd>
</dl>
</li>
</ul>
<a id="bodyTo(java.nio.file.Path,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bodyTo</h4>
<pre class="methodSignature"><a href="../../util/concurrent/FutureProgress.html" title="interface in se.arkalix.util.concurrent">FutureProgress</a>&lt;java.nio.file.Path&gt;&nbsp;bodyTo&#8203;(java.nio.file.Path&nbsp;path,
                                          boolean&nbsp;append)</pre>
<div class="block">Requests that the incoming HTTP body be written to the file at the
 specified file system path.
 <p>
 The file will be created if it does not exist. If the <code>append</code>
 parameter is <code>true</code>, the file is appended to rather than
 overwritten.
 <p>
 Using this method, or <a href="#bodyTo(java.nio.file.Path)"><code>bodyTo(Path)</code></a>, is the preferred way of
 receiving data objects that are too large to realistically fit in
 primary memory. This as received data is written directly to the target
 file as it is received, rather than being buffered until all of it
 becomes available.
 <p>
 Note that a body can typically only be requested once via this
 interface. Any further requests will likely cause exceptions to be
 thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - Path to file to contain incoming HTTP body.</dd>
<dd><code>append</code> - If <code>true</code>, any existing file at <code>path</code> will
               not be overwritten, but have the incoming HTTP body
               appended to it.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Future completed successfully with given path only if the
 incoming HTTP body is fully received and written to the file at that path.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the body has already been requested.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
