<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>se.arkalix.net.http.service (kalix-base 0.3.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="se.arkalix.net.http.service (kalix-base 0.3.0 API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;se.arkalix.net.http.service</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block"><h1>HTTP Service Utilities</h1>
 The class of primary relevance for specifying Arrowhead HTTP <a href="../../../package-summary.html"><code>services</code></a> is the <a href="HttpService.html" title="class in se.arkalix.net.http.service"><code>HttpService</code></a> class. After creating an instance of it, four details about the
 Arrowhead service it represents must be specified, which are
 <ol>
     <li>its <a href="HttpService.html#name(java.lang.String)"><code>name</code></a>,</li>
     <li>its <a href="HttpService.html#basePath(java.lang.String)"><code>base path</code></a>,</li>
     <li>what <a href="HttpService.html#encodings(se.arkalix.descriptor.EncodingDescriptor...)"><code>encodings</code></a> it supports, as well as</li>
     <li>what <a href="HttpService.html#accessPolicy(se.arkalix.security.access.AccessPolicy)"><code>access policy</code></a> it should use, unless the <a href="../../../ArSystem.html" title="class in se.arkalix"><code>system</code></a> that is to <a href="../../../ArSystem.html#provide(se.arkalix.ArService)"><code>provide it</code></a> is
         running in <a href="../../../ArSystem.Builder.html#insecure()"><code>insecure
         mode</code></a>.</li>
 </ol>
 After having provided these details, each created service must be given at
 at least one <a href="HttpRoute.html" title="class in se.arkalix.net.http.service"><code>route</code></a>, and may
 also be given additional <a href="HttpFilter.html" title="class in se.arkalix.net.http.service"><code>filters</code></a> and <a href="HttpCatcher.html" title="class in se.arkalix.net.http.service"><code>catchers</code></a>.
 Routes, filters and catchers are collectively referred to as
 <a href="HttpRoutable.html" title="interface in se.arkalix.net.http.service"><code>routables</code></a>, and are what
 will receive and handle any incoming <a href="HttpServiceRequest.html" title="interface in se.arkalix.net.http.service"><code>service requests</code></a>.

 <h2>Route Sequences</h2>
 Routables are organized into <i>route sequences</i>, which can be visualized
 as follows:
 <pre>
    REQUEST RECEIVED
           |
           V
     +------------+ responds
     | Filter  1  |---------------------------------+
     | Filter  2  |                                 |
     | Filter  3  |        +-------------+          |
     | Filter ... | throws | Catcher  1  |          |
     | Filter  N  |-------&gt;| Catcher  2  |          |
     +-----+------+        | Catcher  3  | responds |
           | delegates     | Catcher ... |----------+
           |               | Catcher  M  |          |
           |               +-------------+          |
           |                      A                 |
           V               throws |                 |
     +------------+               | responds        V
     |   Route    |---------------+---------&gt; RESPONSE SENT
     +------------+
 </pre>
 When an incoming request is received, a route sequence with a matching route
 is identified. If the sequence contains any filters, those are executed
 in order from most to least specialized (i.e. filters with more
 requirements for being matched are always executed first). If any filter
 decides to respond to the request, the response is returned immediately to
 the sender and the route never receives the request. If a filter or the
 route throws an exception, the catcher sequence is executed in order, from
 the most to the least specialized. If no catcher is available, no catcher
 decided to respond to the request, or a catcher threw an exception and no
 other catcher caught it, any exceptions are logged and the request is
 replied to with a <i>500 INTERNAL SERVER ERROR</i> message. Note that
 certificate validation and <a href="../../../security/access/AccessPolicy.html" title="interface in se.arkalix.security.access"><code>access control</code></a> are performed <i>before</i> any filters are called.
 <p>
 Routes, filters and catchers are given to a service via the <a href="HttpService.html#route(se.arkalix.net.http.service.HttpRoute)"><code>#route(HttpRoute)</code></a>, <a href="HttpService.html#filter(se.arkalix.net.http.service.HttpFilter)"><code>#filter(HttpFilter)</code></a> and <a href="HttpService.html#catcher(se.arkalix.net.http.service.HttpCatcher)"><code>#catcher(HttpCatcher)</code></a> methods of the <a href="HttpService.html" title="class in se.arkalix.net.http.service"><code>HttpService</code></a> class, and the many
 helper methods that exist to make it more convenient to use those three
 methods.

 <h2>Route Matching</h2>
 When a <a href="HttpService.html" title="class in se.arkalix.net.http.service"><code>HttpService</code></a> receives
 a request, it must be able to tell what route sequence, as described above,
 to provide the request to. This is done by matching the request against the
 <a href="../HttpMethod.html" title="class in se.arkalix.net.http"><code>methods</code></a> and <a href="HttpPattern.html" title="class in se.arkalix.net.http.service"><code>patterns</code></a> of its <a href="HttpRoute.html" title="class in se.arkalix.net.http.service"><code>routes</code></a>. While matching methods is
 rather straightforward, either it matches or it doesn't, matching the path
 of a request against a path pattern is more involved. How path pattern
 matching is performed is explained in detail <a href="HttpPattern.html" title="class in se.arkalix.net.http.service"><code>here</code></a>.</div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="HttpCatcherHandler.html" title="interface in se.arkalix.net.http.service">HttpCatcherHandler</a>&lt;T extends java.lang.Throwable&gt;</th>
<td class="colLast">
<div class="block">A handler meant to process exceptions occurring while handling incoming
 <a href="HttpServiceRequest.html" title="interface in se.arkalix.net.http.service"><code>HTTP requests</code></a>, or while responding to them.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="HttpFilterHandler.html" title="interface in se.arkalix.net.http.service">HttpFilterHandler</a></th>
<td class="colLast">
<div class="block">A route filter, meant to validate or handle incoming HTTP requests
 matching some <a href="HttpFilter.html" title="class in se.arkalix.net.http.service"><code>set of preconditions</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="HttpRoutable.html" title="interface in se.arkalix.net.http.service">HttpRoutable</a></th>
<td class="colLast">
<div class="block">Represents some handler that may be invoked with incoming HTTP request that
 match its <a href="HttpRoutable.html#method()"><code>method</code></a> and <a href="HttpRoutable.html#pattern()"><code>path pattern</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="HttpRouteHandler.html" title="interface in se.arkalix.net.http.service">HttpRouteHandler</a></th>
<td class="colLast">
<div class="block">A route handler, meant to process incoming HTTP requests matching some
 <a href="HttpRoute.html" title="class in se.arkalix.net.http.service"><code>set of preconditions</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="HttpServiceRequest.html" title="interface in se.arkalix.net.http.service">HttpServiceRequest</a></th>
<td class="colLast">
<div class="block">The head and body of an incoming HTTP request.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="HttpServiceResponse.html" title="interface in se.arkalix.net.http.service">HttpServiceResponse</a></th>
<td class="colLast">
<div class="block">An outgoing HTTP response, to be sent by an <a href="HttpService.html" title="class in se.arkalix.net.http.service"><code>HttpService</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="HttpCatcher.html" title="class in se.arkalix.net.http.service">HttpCatcher</a>&lt;T extends java.lang.Throwable&gt;</th>
<td class="colLast">
<div class="block">A <a href="HttpService.html" title="class in se.arkalix.net.http.service"><code>HttpService</code></a> exception catcher, useful for handling errors
 occurring while receiving or responding to HTTP requests.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="HttpFilter.html" title="class in se.arkalix.net.http.service">HttpFilter</a></th>
<td class="colLast">
<div class="block">A <a href="HttpService.html" title="class in se.arkalix.net.http.service"><code>HttpService</code></a> filter, useful for verifying and/or responding to
 incoming <a href="HttpServiceRequest.html" title="interface in se.arkalix.net.http.service"><code>HTTP requests</code></a> before they are provided
 to their designated <a href="HttpRoute.html" title="class in se.arkalix.net.http.service"><code>HttpRoute</code></a>s.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="HttpPattern.html" title="class in se.arkalix.net.http.service">HttpPattern</a></th>
<td class="colLast">
<div class="block">A pattern that matches a well-defined set of paths.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="HttpRoute.html" title="class in se.arkalix.net.http.service">HttpRoute</a></th>
<td class="colLast">
<div class="block">Describes the conditions for and where to route matching incoming
 <a href="HttpServiceRequest.html" title="interface in se.arkalix.net.http.service"><code>HttpServiceRequest</code></a>s.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="HttpRouteTask.html" title="class in se.arkalix.net.http.service">HttpRouteTask</a></th>
<td class="colLast">
<div class="block">Keeps track of state related to an incoming HTTP request.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="HttpRouteTask.Builder.html" title="class in se.arkalix.net.http.service">HttpRouteTask.Builder</a></th>
<td class="colLast">
<div class="block">Builder useful for creating <a href="HttpRouteTask.html" title="class in se.arkalix.net.http.service"><code>HttpRouteTask</code></a> instances.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="HttpService.html" title="class in se.arkalix.net.http.service">HttpService</a></th>
<td class="colLast">
<div class="block">A concrete Arrowhead service, exposing its functions as HTTP endpoints.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="HttpServiceRequestException.html" title="class in se.arkalix.net.http.service">HttpServiceRequestException</a></th>
<td class="colLast">
<div class="block">Signifies that some HTTP request received by a <a href="HttpService.html" title="class in se.arkalix.net.http.service"><code>HttpService</code></a> contains
 an error and, therefore, will not be processed.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
